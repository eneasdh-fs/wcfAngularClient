<section *ngIf="programming !== null">

  <md-card class="example-card" >
    <md-card-header>
      <div md-card-avatar class="example-header-image"></div>
      <md-card-title>
        <h3>{{ programming.movies.name}}</h3>
      </md-card-title>
      <md-card-subtitle> Sala: {{ programming.room }} - {{ programming.release_at | date:'dd-mm-yyyy H:ss a' }}</md-card-subtitle>
    </md-card-header>

    <md-card-content>
      <md-grid-list cols="12" rowHeight="300px">
        <md-grid-tile colspan="2" rowspan="1" >
          <img src="assets/images/{{ programming.movies.url}}.jpg" style="height: 250px">
        </md-grid-tile>
        <md-grid-tile colspan="7" rowspan="1" >
          <p style="padding: 10px 20px">
            {{ programming.movies.description }}
          </p>

        </md-grid-tile>

        <md-grid-tile colspan="3" rowspan="1" >
          <md-card  style="width: 100%">
            <md-card-content>
              <h4 class="example-h2">Entradas</h4>

              <section class="example-section">
                <md-input-container class="example-margin">
                  <input mdInput (change)="change()" type="number" placeholder="Cantidad" [(ngModel)]="quantity" min="1" [max]="programming.limit - programming.occupied">
                </md-input-container>

                <p class="message">
                  m√°ximo: {{ programming.limit - programming.occupied}}
                </p>
              </section>

            </md-card-content>

          </md-card>

        </md-grid-tile>
      </md-grid-list>


    </md-card-content>
    <md-card-actions>
      <p class="prices">
        precio por entrada: <b>{{ programming.movies.price |currency:'PEN' : true}}</b>
      </p>
    </md-card-actions>
  </md-card>

  <md-card *ngIf="products !== null ">
    <md-card-content>

      <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--6-col">

          <h4> Complete la compra</h4>
        <p>
          <strong>Listo, por favor confirme la compra e imprima el ticket :)</strong>
        </p>

          <section class="example-section">
            <button md-raised-button (click)="complete()">Aceptar</button>
          </section>

        </div>
        <div class="mdl-cell mdl-cell--6-col">
          <h2 style="text-align: right">Productos</h2>
          <table class="mdl-data-table mdl-js-data-table mdl-data-table--selectable mdl-shadow--2dp table--movies" width="100%">
            <thead>
            <tr>
              <th></th>
              <th>Nombre</th>
              <th>Precio</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let product of products">
              <td>
                <md-checkbox [(ngModel)]="product.selected" (change)="selected(product)"></md-checkbox>
              </td>
              <td><b>{{ product.name}}</b></td>
              <td>{{ product.price | currency: 'PRN': true}}</td>
            </tr>
            </tbody>
          </table>

          <br>

          <p class="prices">
            Total a pagar: <b>{{ total |currency:'PEN' : true }}</b>
          </p>
        </div>
      </div>



    </md-card-content>
  </md-card>

  <md-card>
    <md-card-content>

    </md-card-content>
  </md-card>

</section>
